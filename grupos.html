import React, { useState } from 'react';
import { ChevronRight, ChevronsRight, Users, BookOpen, Target, FileText, Activity, ArrowLeft } from 'lucide-react';

// Datos proporcionados
const projectData = [
  {
    id: 1,
    title: "Salud Comunitaria",
    participants: [
      { name: 'LUZ MARIA ROJAS GALLEGUILLOS', profession: 'ENFERMERÍA', subjects: 'SALUD COMUNITARIA', career: 'ENFERMERÍA, TECN NIV SUP ENFERM' },
      { name: 'KARINA JARA RODRIGUEZ', profession: 'TRABAJO SOCIAL', subjects: 'PROYEC SOCIALES, TALLER INT INVESTIG SOCIAL, POLITICAS PUBLICAS', career: 'LINEA INTERVENCIÓN COMUNITARIA (LIC)' },
      { name: 'XIMENA MORENO', profession: 'ENFERMERÍA', subjects: 'ENFERMERIA, MEDICINA GRAL', career: '' },
    ],
    projectDetails: {
      asignaturaProyecto: 'SALUD COMUNITARIA',
      raa: 'RAA5 Demostrar habilidades comunicacionales y de trabajo en equipo a partir de la implementación de actividades de servicio.',
      unidad: 'Unidad 2: Componentes de la promoción en salud, Programación educativa, Principales conceptos de la educación en salud y la educación en el adulto.',
      contenidos: 'Componentes de la promoción en salud, programación educativa, principales conceptos de la educación en salud, desarrollo de habilidades comunicacionales e introducción a las herramientas humanas.',
      actividad: 'Discusión y análisis sobre los Componentes de la promoción en salud, Programación educativa, Principales conceptos de la educación en salud y la educación en el adulto, actividades comunicaciones verbales y no verbales.'
    }
  },
  {
    id: 2,
    title: "Gestión y Emprendimiento en Salud",
    participants: [
      { name: 'ANNETTE REBOLLEDO', profession: 'KINESIOLOGÍA', subjects: 'PRACT CLINICA INTEGRADA', career: 'KINESIOLOGIA' },
      { name: 'ANDREA ALLIENDE OTERO', profession: 'ENFERMERA', subjects: 'PROCESOS ENFERMERO, ADULTO MAYOR', career: 'ENFERMERIA' },
    ],
    projectDetails: {
      asignaturaProyecto: 'Gestión y emprendimiento en salud',
      raa: 'Diseñar proyectos en equipo, que respondan a las necesidades o problemáticas de una comunidad como propuesta de mejora de la calidad de vida utilizando una metodología participativa.',
      unidad: 'Unidad 2',
      contenidos: '- Proyectos en salud.',
      actividad: 'Operativo de salud comunitario interdisciplinar.'
    }
  },
  {
    id: 3,
    title: "Team Building y Liderazgo",
    participants: [
      { name: 'ALEJANDRA JERIA CASTAÑER', profession: 'PROF EDUC FISICA', subjects: 'TEAM BUILDING, LIDERAZGO', career: 'DIP PRODUCCIÒN EVENTOS' },
      { name: 'MONICA RIQUELME', profession: 'SOCIOLOGIA', subjects: 'SEMINARIO DE GRADO, ATENCIÒN DIÁLOGO ACCIÒN INTEGRACIÒN.', career: 'PSICOLOGIA' },
      { name: 'DIEGO MORALES', profession: 'PSICOLOGO', subjects: '', career: '' },
    ],
    projectDetails: {
      asignaturaProyecto: 'Team building y liderazgo',
      raa: 'Conocer los fundamentos del Team Building en función del Liderazgo situacional para la mejora continua.',
      unidad: 'Unidad n°2',
      contenidos: '- Fundamentos del T.B. - Etapas del T.B -Principios del Liderazgo situacional. - Herramientas y dinámicas para la mejora continua.',
      actividad: 'Caso práctico o simulación: aplicar un ejercicio de Team Building con enfoque de liderazgo situacional, según propósito corporativo.'
    }
  },
  {
    id: 4,
    title: "Fundamentos Sociales y Epistemología",
    participants: [
      { name: 'RODRIGO ORELLANA', profession: 'TRABAJO SOCIAL', subjects: 'FUND SOCIALES, EPISTEMOLOGIA', career: 'PSICOLOGÍA' },
    ],
    projectDetails: {
        asignaturaProyecto: 'No especificado',
        raa: 'No especificado',
        unidad: 'No especificado',
        contenidos: 'No especificado',
        actividad: 'No especificado'
    }
  },
  {
    id: 5,
    title: "Intervención Neurokinésica",
    participants: [
      { name: 'GISELA VALDÉS BETANZO', profession: 'PROF EDUC FISICA', subjects: 'PRACTICAS PROFESIONALES', career: 'LIC CIENCIAS ACT FISICA, PEDAG EDUC FISICA' },
      { name: 'ALEXANDER BRAVO', profession: 'KINESIOLOGO', subjects: 'INTERVENCION NEUROKINESICA II', career: 'KINESIOLOGIA' },
      { name: 'FELIPE GACITUA', profession: 'NUTRICIONISTA', subjects: '', career: '' },
    ],
    projectDetails: {
      asignaturaProyecto: 'Intervencion Neurokinésica I',
      raa: 'RAA2: Determinar la disfunción global y específica, de acuerdo con el fundamento del desarrollo psicomotor normal, atípico y neuroplasticidad.',
      unidad: 'UNIDAD 1: Desarrollo Psicomotor y bases de los principales modelos terapeúticos para usuarios pediátricos con trastornos neurológicos.',
      contenidos: '• Desarrollo Atípico y manejo postural básico en usuarios pediátricos con lesiones neurológicas centrales y no centrales.',
      actividad: 'No especificado'
    }
  }
];

// Componente para una tarjeta de participante
const ParticipantCard = ({ participant }) => (
  <div className="bg-gray-50 p-4 rounded-lg border border-gray-200 hover:bg-gray-100 hover:border-gray-300 transition-colors duration-300">
    <h4 className="font-bold text-orange-600">{participant.name}</h4>
    <p className="text-sm text-gray-700">{participant.profession}</p>
    {participant.subjects && <p className="text-xs mt-1 text-gray-500"><strong>Asignaturas:</strong> {participant.subjects}</p>}
    {participant.career && <p className="text-xs mt-1 text-gray-500"><strong>Carrera:</strong> {participant.career}</p>}
  </div>
);

// Componente para un item de detalle del proyecto
const DetailItem = ({ icon, title, children }) => (
  <div className="flex items-start space-x-4">
    <div className="flex-shrink-0 w-8 h-8 bg-orange-100 text-orange-600 rounded-full flex items-center justify-center mt-1">
      {icon}
    </div>
    <div>
      <h4 className="font-semibold text-gray-700">{title}</h4>
      <p className="text-gray-600 text-sm">{children}</p>
    </div>
  </div>
);

// Componente para la vista de detalles de un grupo
const GroupDetail = ({ group, onBack }) => (
  <div className="animate-fade-in">
    <button
      onClick={onBack}
      className="mb-6 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 focus:ring-offset-gray-100 transition-all duration-300"
    >
      <ArrowLeft className="mr-2 h-5 w-5" />
      Volver a la Lista
    </button>

    <div className="bg-white border border-gray-200 rounded-xl shadow-lg overflow-hidden">
      <div className="p-6 sm:p-8">
        <h2 className="text-2xl sm:text-3xl font-bold text-orange-600 mb-2">Grupo {group.id}: {group.title}</h2>
        <p className="text-gray-500 mb-6">Detalles del proyecto y sus integrantes.</p>

        <div className="space-y-6">
          <div>
            <h3 className="text-xl font-semibold text-gray-700 mb-4 border-b-2 border-orange-200 pb-2 flex items-center"><Users className="mr-3 text-orange-500" />Participantes</h3>
            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
              {group.participants.map((p, index) => (
                <ParticipantCard key={index} participant={p} />
              ))}
            </div>
          </div>
          
          <div>
            <h3 className="text-xl font-semibold text-gray-700 mb-4 border-b-2 border-orange-200 pb-2 flex items-center"><ChevronsRight className="mr-3 text-orange-500" />Detalles del Proyecto</h3>
            <div className="space-y-5 mt-4">
              <DetailItem icon={<FileText size={16} />} title="Asignatura del Proyecto">
                {group.projectDetails.asignaturaProyecto}
              </DetailItem>
              <DetailItem icon={<Target size={16} />} title="RAA / Objetivo de Aprendizaje">
                {group.projectDetails.raa}
              </DetailItem>
              <DetailItem icon={<BookOpen size={16} />} title="Unidad">
                {group.projectDetails.unidad}
              </DetailItem>
              <DetailItem icon={<FileText size={16} />} title="Contenidos">
                {group.projectDetails.contenidos}
              </DetailItem>
              <DetailItem icon={<Activity size={16} />} title="Actividad Cooperativa">
                {group.projectDetails.actividad}
              </DetailItem>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
);

// Componente para la lista de grupos
const GroupList = ({ onSelectGroup }) => (
  <div className="animate-fade-in">
    <h1 className="text-3xl sm:text-4xl font-bold text-center text-orange-600 mb-2">Navegador de Proyectos</h1>
    <p className="text-center text-gray-500 mb-8">Selecciona un grupo para ver los detalles.</p>
    <div className="space-y-4">
      {projectData.map(group => (
        <button
          key={group.id}
          onClick={() => onSelectGroup(group)}
          className="w-full text-left p-5 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 hover:border-orange-500 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 focus:ring-offset-gray-100 transition-all duration-300 flex justify-between items-center group"
        >
          <div>
            <h2 className="text-xl font-bold text-orange-700 group-hover:text-orange-600">Grupo {group.id}: {group.title}</h2>
            <p className="text-sm text-gray-600 mt-1">{group.participants.length} participante(s)</p>
          </div>
          <ChevronRight className="text-gray-400 group-hover:text-orange-500 transition-transform duration-300 group-hover:translate-x-1" />
        </button>
      ))}
    </div>
  </div>
);

// Componente principal de la aplicación
export default function App() {
  const [selectedGroup, setSelectedGroup] = useState(null);

  return (
    <div className="bg-gray-100 text-gray-800 min-h-screen font-sans p-4 sm:p-8">
      <style>{`
        @keyframes fade-in {
          from { opacity: 0; transform: translateY(10px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
          animation: fade-in 0.5s ease-out forwards;
        }
      `}</style>
      <div className="max-w-4xl mx-auto">
        {selectedGroup ? (
          <GroupDetail group={selectedGroup} onBack={() => setSelectedGroup(null)} />
        ) : (
          <GroupList onSelectGroup={setSelectedGroup} />
        )}
      </div>
       <footer className="text-center mt-12 text-gray-500 text-sm">
        <p>Aplicación generada para la visualización de datos de proyectos.</p>
      </footer>
    </div>
  );
}
